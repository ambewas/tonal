"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[248],{2632:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>g,frontMatter:()=>o,metadata:()=>r,toc:()=>l});var s=i(7624),t=i(2172);const o={title:"Chord Voicings",sidebar_position:1},c=void 0,r={id:"voicings/voicings",title:"Chord Voicings",description:"@tonaljs/voicing",source:"@site/docs/voicings/voicings.md",sourceDirName:"voicings",slug:"/voicings/",permalink:"/tonal/docs/voicings/",draft:!1,unlisted:!1,editUrl:"https://github.com/tonaljs/tonal/tree/main/site/docs/docs/voicings/voicings.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Chord Voicings",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Voicings"},next:{title:"Voice leading",permalink:"/tonal/docs/voicings/leading"}},a={},l=[{value:"Usage",id:"usage",level:2},{value:"API",id:"api",level:2},{value:"Voicing.search",id:"voicingsearch",level:3},{value:"Voicing.get",id:"voicingget",level:3},{value:"Voicing.analyze",id:"voicinganalyze",level:3},{value:"Voicing.analyzeTransition",id:"voicinganalyzetransition",level:3},{value:"Voicing.intervalSets",id:"voicingintervalsets",level:3},{value:"Voicing.searchSets",id:"voicingsearchsets",level:3}];function d(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.M)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:(0,s.jsx)(e.code,{children:"@tonaljs/voicing"})}),"\n",(0,s.jsxs)(e.p,{children:["Contains functions to generate voicings. If you're not sure what voicings are, ",(0,s.jsx)(e.a,{href:"https://www.youtube.com/watch?v=VR3o45Pwx9Y",children:"watch this video"}),"."]}),"\n",(0,s.jsx)(e.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(e.p,{children:"ES6:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import { Voicing } from "tonal";\n'})}),"\n",(0,s.jsx)(e.p,{children:"Nodejs:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'const { Voicing } = require("tonal");\n'})}),"\n",(0,s.jsx)(e.h2,{id:"api",children:"API"}),"\n",(0,s.jsx)(e.h3,{id:"voicingsearch",children:"Voicing.search"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"Voicing.search(chord: string, range?: [string, string], dictionary?: VoicingDictionary): string[][]\n"})}),"\n",(0,s.jsx)(e.p,{children:"This method returns all possible voicings of the given chord, inside the given range, as defined in the dictionary:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"Voicing.search(\"C^7\", [\"E3\", \"D5\"], { \"^7\": [\"3M 5P 7M 9M\", \"7M 9M 10M 12P\"] });\n/* => [\n  ['E3', 'G3', 'B3', 'D4'],\n  ['E4', 'G4', 'B4', 'D5'],\n  ['B3', 'D4', 'E4', 'G4'],\n] */\n"})}),"\n",(0,s.jsxs)(e.p,{children:["The VoicingDictionary param uses the format of ",(0,s.jsx)(e.a,{href:"./dictionary",children:"@tonaljs/voicing-dictionary"}),". Instead of defining your own, you could also use an existing dictionary from there:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"import { VoicingDictionary } from \"@tonaljs/voicing-dictionary\";\nVoicing.search(\"C^7\", [\"E3\", \"D5\"], VoicingDictionary.lefthand);\n/* => [\n  ['E3', 'G3', 'B3', 'D4'],\n  ['E4', 'G4', 'B4', 'D5'],\n  ['B3', 'D4', 'E4', 'G4'],\n] */\n"})}),"\n",(0,s.jsx)(e.p,{children:"If no range and/or dictionary is given, there is a fallback to default values:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"Voicing.search(\"C^7\");\n/* => [\n  ['E3', 'G3', 'B3', 'D4'],\n  ['E4', 'G4', 'B4', 'D5'],\n  ['B3', 'D4', 'E4', 'G4'],\n] */\n"})}),"\n",(0,s.jsx)(e.h3,{id:"voicingget",children:"Voicing.get"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"Voicing.get(\n  chord: string,\n  range?: [string, number],\n  dictionary?: VoicingDictionary,\n  voiceLeading?: VoiceLeading,\n  lastVoicing?: string[]\n) => string[];\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Returns the best voicing for ",(0,s.jsx)(e.strong,{children:"chord"})," inside the given ",(0,s.jsx)(e.strong,{children:"range"}),", as contained in the ",(0,s.jsx)(e.strong,{children:"dictionary"}),", using ",(0,s.jsx)(e.strong,{children:"voiceLeading"})," to decide which voicing to pick after ",(0,s.jsx)(e.strong,{children:"lastVoicing"}),". Internally calls Voicing.search to generate the available voicings:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"Voicing.get(\"Dm7\");\n/* ['F3', 'A3', 'C4', 'E4']); */\nVoicing.get(\"Dm7\", [\"F3\", \"A4\"], lefthand, topNoteDiff);\n/* ['F3', 'A3', 'C4', 'E4']; */\nconst last = [\"C4\", \"E4\", \"G4\", \"B4\"];\nVoicing.get(\"Dm7\", [\"F3\", \"A4\"], lefthand, topNoteDiff, last);\n/* ['C4', 'E4', 'F4', 'A4']; */ // => A4 is closest to B4\n"})}),"\n",(0,s.jsx)(e.h3,{id:"voicinganalyze",children:"Voicing.analyze"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"export declare function analyze(voicing: string[]): {\n  topNote: string;\n  bottomNote: string;\n  midiAverage: number;\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:"Returns some useful info on the given voicing:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'expect(Voicing.analyze(["C4", "E4", "G4", "B4"])).toEqual({\n  topNote: "B4",\n  bottomNote: "C4",\n  midiAverage: 85.4, // did not check :)\n  // many more values possible\n});\n'})}),"\n",(0,s.jsx)(e.h3,{id:"voicinganalyzetransition",children:"Voicing.analyzeTransition"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"export declare function analyzeTransition(\n  from: string[],\n  to: string[],\n): {\n  topNoteDiff: number;\n  bottomNoteDiff: number;\n  movement: number;\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:"Returns some useful info on the given voice transition"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'expect(\n  Voicing.analyzeTransition(["C4", "E4", "G4", "B4"], ["D4", "F4", "A4", "C5"]),\n).toEqual({\n  topNoteDiff: 1,\n  bottomNoteDiff: 2,\n  movement: 5,\n});\n'})}),"\n",(0,s.jsx)(e.p,{children:"Could also use intervals instead of semitones (but semitones are easier to compare)"}),"\n",(0,s.jsx)(e.h3,{id:"voicingintervalsets",children:"Voicing.intervalSets"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"export declare function intervalSets(\n  chordSymbol: string,\n  dictionary: VoicingDictionary,\n);\n"})}),"\n",(0,s.jsx)(e.p,{children:"Get possible interval sets for given chord in given dictionary:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'expect(Voicing.intervalSets("M7", lefthand)).toEqual([\n  ["3M 5P 7M 9M", "7M 9M 10M 12P"],\n]);\n// could also be used with chord symbol (ignore root)\nexpect(Voicing.intervalSets("CM7", lefthand)).toEqual([\n  ["3M 5P 7M 9M", "7M 9M 10M 12P"],\n]);\n'})}),"\n",(0,s.jsx)(e.p,{children:'Note that it works, even if the chord symbol "M7" is just an alias of the "^7" symbol used in the dictionary.'}),"\n",(0,s.jsx)(e.h3,{id:"voicingsearchsets",children:"Voicing.searchSets"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"export declare function searchSets(\n  intervalSets: string[][],\n  range: string[],\n  root: string,\n);\n"})}),"\n",(0,s.jsx)(e.p,{children:"Renders all sets of notes that represent any of the interval sets inside the given range, relative to the root:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'expect(\n  Voicing.searchSets(\n    [\n      ["1P", "3M", "5P"],\n      ["3M", "5P", "8P"],\n    ],\n    ["C3", "G4"],\n    "C",\n  ),\n).toEqual([\n  ["C3", "E3", "G3"],\n  ["E3", "G3", "C4"],\n  ["C4", "E4", "G4"],\n]);\n'})}),"\n",(0,s.jsx)(e.p,{children:"changes:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"renamed to searchSets (similar to Voicing.search)"}),"\n"]})]})}function g(n={}){const{wrapper:e}={...(0,t.M)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},2172:(n,e,i)=>{i.d(e,{I:()=>r,M:()=>c});var s=i(1504);const t={},o=s.createContext(t);function c(n){const e=s.useContext(o);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);