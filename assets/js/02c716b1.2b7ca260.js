"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[56],{532:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>g,frontMatter:()=>s,metadata:()=>a,toc:()=>r});var o=e(7624),t=e(2172);const s={title:"Voice leading",sidebar_position:2},c=void 0,a={id:"voicings/leading",title:"Voice leading",description:"@tonaljs/voice-leading",source:"@site/docs/voicings/leading.md",sourceDirName:"voicings",slug:"/voicings/leading",permalink:"/tonal/docs/voicings/leading",draft:!1,unlisted:!1,editUrl:"https://github.com/tonaljs/tonal/tree/main/site/docs/docs/voicings/leading.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Voice leading",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Chord Voicings",permalink:"/tonal/docs/voicings/"},next:{title:"Voicing dictionary",permalink:"/tonal/docs/voicings/dictionary"}},l={},r=[{value:"Usage",id:"usage",level:2},{value:"API",id:"api",level:2},{value:"VoiceLeading",id:"voiceleading",level:3}];function d(n){const i={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,t.M)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.p,{children:(0,o.jsx)(i.code,{children:"@tonaljs/voice-leading"})}),"\n",(0,o.jsx)(i.p,{children:"Contains a collection functions to find optimal transitions between chord voicings."}),"\n",(0,o.jsx)(i.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(i.p,{children:"ES6:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-js",children:'import { VoiceLeading } from "tonal";\n'})}),"\n",(0,o.jsx)(i.p,{children:"Nodejs:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-js",children:'const { VoiceLeading } = require("tonal");\n'})}),"\n",(0,o.jsx)(i.h2,{id:"api",children:"API"}),"\n",(0,o.jsx)(i.h3,{id:"voiceleading",children:"VoiceLeading"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",children:"declare type VoiceLeadingFunction = (\n  voicings: string[][],\n  lastVoicing: string[],\n) => string[];\n"})}),"\n",(0,o.jsx)(i.p,{children:"A function that decides which of a set of voicings is picked as a follow up to lastVoicing."}),"\n",(0,o.jsx)(i.p,{children:"Example:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",children:"const topNoteDiff: VoiceLeadingFunction = (voicings, lastVoicing) => {\n  if (!lastVoicing || !lastVoicing.length) {\n    // if no lastVoicing is given\n    return voicings[0];\n  }\n  const topNoteMidi = (voicing: string[]) =>\n    Note.midi(voicing[voicing.length - 1]) || 0;\n  const diff = (voicing: string[]) =>\n    Math.abs(topNoteMidi(lastVoicing) - topNoteMidi(voicing));\n  return voicings.sort((a, b) => diff(a) - diff(b))[0]; // return voicing with least diff\n};\n"})}),"\n",(0,o.jsx)(i.p,{children:"Usage"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",children:'topNoteDiff(\n  [\n    ["F3", "A3", "C4", "E4"], // top note = E4\n    ["C4", "E4", "F4", "A4"], // top note = A4\n  ],\n  ["C4", "E4", "G4", "B4"], // top note = B4\n);\n// [\'C4\', \'E4\', \'F4\', \'A4\'] // => A4 is closer to B4 than E4\n'})})]})}function g(n={}){const{wrapper:i}={...(0,t.M)(),...n.components};return i?(0,o.jsx)(i,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},2172:(n,i,e)=>{e.d(i,{I:()=>a,M:()=>c});var o=e(1504);const t={},s=o.createContext(t);function c(n){const i=o.useContext(s);return o.useMemo((function(){return"function"==typeof n?n(i):{...i,...n}}),[i,n])}function a(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),o.createElement(s.Provider,{value:i},n.children)}}}]);